<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:p="http://primefaces.org/ui">
<h:head>
	<title>Música</title>
	<h:outputStylesheet library="css" name="utilitarios.css" target="head" />
	<h:outputStylesheet library="css" name="page-player.css" target="head" />
	<script type="text/javascript" src="../../webjars/soundmanager2/2.97a.20131201-2/script/soundmanager2.js"></script>
	<script type="text/javascript" src="../../resources/js/page-player.js"></script>
		<script>
		soundManager.setup({
		  url: 'webjars/soundmanager2/2.97a.20131201-2/swf/',
		  flashVersion: 9, // optional: shiny features (default = 8)
		  // optional: ignore Flash where possible, use 100% HTML5 mode
		  // preferFlash: false,
		  onready: function() {
		    // Ready to use; soundManager.createSound() etc. can now be called.
			    
		  }
		});
</script>
	
</h:head>
<h:body styleClass="grad2">
	<h:form id="menu">

		<div style="overflow: hidden;">
			<div style="width: 30%; float: left; height: 100vh;">
				<p:growl autoUpdate="true" />
				<p:panelMenu styleClass="grad2" >

					<p:submenu
						label="Usuário - #{loginUsuarioBean.fazerLoginDTO.login}">
						<p:menuitem value="Minhas músicas"
							actionListener="#{ouvirMusicaBean.listarMusicas}"
							icon="ui-icon-disk" />
						<p:menuitem value="Meus favoritos"
							actionListener="#{ouvirMusicaBean.listarFavoritos}"
							icon="ui-icon-arrowrefresh-1-w" />
					</p:submenu>
					<p:submenu label="Buscar músicas">
						<p:menuitem value="Listar músicas"
							actionListener="#{ouvirMusicaBean.listarMusicas}"
							update=":menu:listarMusicas">
						</p:menuitem>
					</p:submenu>
					<p:submenu label="Minha conta">
						<p:menuitem value="Visualizar informações"
							action="#{editarUsuarioBean.visualizarMinhasInformacoes()}"
							icon="ui-icon-close" />
						<p:menuitem value="Alterar senha"
							actionListener="#{ouvirMusicaBean.alterarSenha}" ajax="false"
							icon="ui-icon-close" />
					</p:submenu>
					<p:separator />
					<p:submenu label="Configurações">
						<p:submenu label="Links" icon="ui-icon-extlink">
							<p:submenu label="PrimeFaces" icon="ui-icon-heart">
								<p:menuitem value="Home" url="http://www.primefaces.org"
									icon="ui-icon-home" />
								<p:menuitem value="Docs"
									url="http://www.primefaces.org/documentation"
									icon="ui-icon-document" />
								<p:menuitem value="Download"
									url="http://www.primefaces.org/downloads"
									icon="ui-icon-arrowthick-1-s" />
								<p:menuitem value="Support"
									url="http://www.primefaces.org/support" icon="ui-icon-wrench" />
							</p:submenu>
						</p:submenu>
					</p:submenu>
				</p:panelMenu>
			</div>
			<div>
			<h:panelGroup id="listarMusicas">
				<div id="lista" style="width: 50%;">
					<p:dataList value="#{ouvirMusicaBean.listaMusicas}" varStatus="loop" var="musica" id="musicas" rendered="#{ouvirMusicaBean.listaMusicas != null}">
						<li class="sm2_link" style="list-style: none">
						<a href="../../resources/music/#{musica.nome}" onclick="document.getElementById('menu:musicas:#{loop.index}:fakeButton').click();" style="text-decoration: none;" class="sm2_link sm2_playing">
							<h:outputText value="#{musica.nome}" />
						</a>	
						</li>
						<p:commandButton id="fakeButton" actionListener="#{ouvirMusicaBean.tocarMusica(musica)}" style="display:none"/>
					</p:dataList>
				</div>
			</h:panelGroup>
			</div>
		</div>
	</h:form>
</h:body>
</html>
